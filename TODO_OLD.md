# Canvas-Kit 개발 로드맵

## ✅ 완료된 Phase들

### **Phase 1.5: 기반 안정화** (완료)
- ✅ 워크스페이스 빌드/테스트 시스템
- ✅ core 패키지 구조 정리 (renderer 분리, export 정리)
- ✅ 타입 시스템 확장성 개선
- ✅ 에러 처리 및 검증 로직
- ✅ vitest 단일 실행 모드

### **Phase 2A: Foundation Layer** (완료)
- ✅ 히트 테스트 시스템 완전 구현
- ✅ Scene 클래스 확장 (`getObjectAtPoint`, `getObjectsAtPoint`)
- ✅ 포괄적 테스트 커버리지 (10개 테스트 통과)
- ✅ Samples 환경 구축 (허브, 기본 렌더링, 히트 테스트)

---

## 🎯 Phase 2B: Selection System (현재 진행)

### **[Core] 선택 상태 관리 시스템**
- [ ] **Selection Manager 클래스**: 선택 상태를 관리하는 독립적인 클래스 구현
  - 단일/다중 선택 상태 관리
  - 선택 변경 이벤트 발생
  - 선택 해제 기능
- [ ] **바운딩 박스 계산**: 선택된 객체의 바운딩 박스 좌표 계산 로직
- [ ] **선택 상태 타입 정의**: Selection 관련 TypeScript 타입 정의

### **[UI] 시각적 피드백 시스템**
- [ ] **SVG 오버레이 컴포넌트**: 바운딩 박스 렌더링을 위한 SVG 레이어
- [ ] **선택 스타일링**: 바운딩 박스, 핸들, 선택 표시 스타일
- [ ] **반응형 오버레이**: 캔버스 크기에 맞춰 동적 조정

### **[Designer] 통합 구현**
- [ ] **SelectableViewer 컴포넌트**: Viewer + 선택 기능이 통합된 컴포넌트
- [ ] **선택 이벤트 핸들링**: 마우스 클릭으로 객체 선택/해제
- [ ] **상태 동기화**: Scene 변경과 선택 상태 동기화

### **[Samples] 실제 테스트 환경**
- [ ] **Selection System 샘플**: 선택 기능을 테스트할 수 있는 인터랙티브 샘플
- [ ] **시각적 피드백 테스트**: 바운딩 박스 렌더링 확인
- [ ] **다중 선택 테스트**: 여러 객체 동시 선택 기능

---

## 🎯 Phase 2C: Drag & Drop System

### **[Core] 드래그 인터랙션 시스템**
- [ ] **Drag Manager 클래스**: 드래그 상태 및 로직 관리
- [ ] **좌표 변환**: 마우스 좌표를 Scene 좌표로 변환
- [ ] **드래그 델타 계산**: 이동 거리 계산 및 적용

### **[UI] 드래그 피드백**
- [ ] **드래그 중 시각적 피드백**: 드래그 중인 객체 표시
- [ ] **드롭 존 표시**: 유효한 드롭 위치 시각화
- [ ] **스냅 기능**: 격자나 다른 객체에 스냅

### **[Designer] 드래그 통합**
- [ ] **DraggableViewer 컴포넌트**: 드래그 기능이 포함된 뷰어
- [ ] **Scene 업데이트**: 드래그 완료 시 객체 위치 업데이트
- [ ] **실시간 동기화**: 드래그 중 실시간 렌더링 업데이트

---

## 🎯 Phase 2D: Editing Tools

### **[Core] 편집 도구 시스템**
- [ ] **Tool Manager**: 도구 모드 관리 (선택, 그리기, 편집)
- [ ] **객체 생성 로직**: 새 도형 생성 및 Scene 추가
- [ ] **속성 변경 시스템**: 색상, 크기 등 속성 실시간 변경

### **[UI] 편집 인터페이스**
- [ ] **툴바 컴포넌트**: 도구 선택 UI
- [ ] **속성 패널**: 선택된 객체 속성 편집 UI
- [ ] **객체 생성 UI**: 새 도형 추가 인터페이스

### **[Integration] 통합 에디터**
- [ ] **통합 Designer 컴포넌트**: 모든 기능이 통합된 에디터
- [ ] **키보드 단축키**: 일반적인 편집 단축키 지원
- [ ] **상태 관리**: 복잡한 상호작용 상태 관리

---

## � Phase 3: Advanced Features

### **[Core] 확장 기능**
- [ ] **Command Pattern**: Undo/Redo 시스템
- [ ] **Scene Serialization**: JSON import/export
- [ ] **새 도형 타입**: Text, Image, Path

### **[Designer] 전문 기능**
- [ ] **다중 선택**: Ctrl+클릭, 영역 선택
- [ ] **크기 조절**: 핸들을 통한 리사이징
- [ ] **회전 기능**: 회전 핸들 및 변형

### **[Performance] 최적화**
- [ ] **렌더링 최적화**: 부분 업데이트, 오프스크린 캔버스
- [ ] **대용량 데이터**: 가상화, 메모이제이션
- [ ] **메모리 관리**: 이벤트 리스너 정리, 약한 참조

---

## 🚨 즉시 진행: Phase 2B 상세 작업

### 우선순위 1: Selection Manager 구현
1. core 패키지에 selection 모듈 추가
2. SelectionManager 클래스 구현
3. 바운딩 박스 계산 로직
4. 선택 상태 타입 정의

### 우선순위 2: SVG 오버레이 시스템
1. designer 패키지에 overlay 컴포넌트 추가
2. SVG 기반 바운딩 박스 렌더링
3. 캔버스와 오버레이 좌표 동기화

### 우선순위 3: Samples 업데이트
1. Selection System 샘플 완성
2. 실제 선택 기능 테스트 환경 구축
