# Canvas-Kit 개발 로드맵

## 🔄 Phase 1.5: 현재 이슈 해결 (완료)

### **[Critical] 테스트 환경 수정** ✅
- [x] **viewer 테스트 수정**: CanvasKitRenderer 모킹 로직 수정 및 useEffect 테스트 보완
- [x] **워크스페이스 빌드 스크립트**: 루트 package.json에 전체 빌드/테스트 명령어 추가
- [x] **의존성 해결**: viewer 패키지가 core 빌드 결과물을 올바르게 참조하도록 수정

### **[Technical Debt] 아키텍처 개선** ✅
- [x] **core 패키지 export 정리**: index.ts에서 public API만 노출하도록 정리
- [x] **타입 정의 개선**: DrawingObject 타입 확장성 고려하여 리팩토링
- [x] **에러 처리**: Canvas context 획득 실패 등 예외 상황 처리 개선

---

## 🎯 Phase 2: Designer 핵심 기능 구현

### **[Foundation] 선택 시스템** ⚡ 진행중
- [x] **히트 테스트 구현**: 마우스 좌표에서 Scene 객체 찾기 로직 (`core` 패키지)
- [ ] **선택 상태 관리**: useState 기반 선택된 객체 상태 관리 (`designer`)
- [ ] **시각적 피드백**: 선택된 객체 바운딩 박스 렌더링 (SVG 오버레이)
- [ ] **테스트**: 좌표 기반 객체 선택 및 바운딩 박스 렌더링 테스트

### **[Samples & UI Testing] 실제 사용자 테스트 환경** ⚡ 진행중
- [x] **Samples 허브 페이지**: 주요 기능별 샘플 목록 및 네비게이션
- [x] **기본 렌더링 샘플**: Viewer 패키지 기능 시연 (인터랙티브 컨트롤 포함)
- [x] **히트 테스트 샘플**: 마우스 클릭으로 객체 선택 확인 (실시간 피드백)
- [ ] **선택 시스템 샘플**: 바운딩 박스 및 시각적 피드백 테스트
- [ ] **드래그 앤 드롭 샘플**: 객체 이동 기능 테스트
- [ ] **통합 에디터 샘플**: 전체 기능이 통합된 데모

### **[Interaction] 기본 조작**
- [ ] **드래그 앤 드롭**: 선택된 객체 이동 기능 구현
- [ ] **상태 동기화**: 객체 변경 시 Scene과 Viewer 동기화
- [ ] **이벤트 처리**: 마우스 다운/업/무브 이벤트 통합 관리
- [ ] **테스트**: 드래그 시뮬레이션 및 객체 위치 변경 검증

### **[UI/UX] 편집 도구**
- [ ] **도구 모드**: 선택/이동/그리기 모드 전환 시스템
- [ ] **객체 생성**: 캔버스 클릭으로 새 도형 추가 기능
- [ ] **속성 패널**: 선택된 객체의 색상/크기 편집 UI
- [ ] **테스트**: 도구 모드 전환 및 속성 변경 테스트

---

## 🔧 Phase 3: 고급 기능 및 최적화

### **[Core Enhancement] 확장성**
- [ ] **Command 패턴**: Undo/Redo를 위한 명령 시스템 구현
- [ ] **직렬화**: Scene JSON import/export 기능
- [ ] **새 도형 타입**: Text, Image, Path 객체 추가
- [ ] **테스트**: Command 패턴 동작 및 직렬화 정합성 테스트

### **[Designer Advanced] 전문 기능**
- [ ] **다중 선택**: Ctrl+클릭 및 영역 선택 구현
- [ ] **크기 조절**: 선택 핸들을 통한 리사이징
- [ ] **회전**: 객체 회전 도구 및 변형 행렬 적용
- [ ] **레이어 관리**: z-index 기반 레이어 순서 조정

### **[Performance] 최적화**
- [ ] **가상화**: 많은 객체 처리를 위한 뷰포트 기반 렌더링
- [ ] **메모이제이션**: Scene 변경 최적화 및 불필요한 리렌더링 방지
- [ ] **Canvas 최적화**: 부분 영역 업데이트 및 오프스크린 캔버스 활용

---

## 📦 Phase 4: 패키지 완성 및 배포

### **[Documentation] 문서화**
- [ ] **API 문서**: JSDoc 기반 자동 문서 생성
- [ ] **사용 가이드**: 각 패키지별 상세 사용법 작성
- [ ] **마이그레이션 가이드**: 버전 업그레이드 가이드

### **[Distribution] 배포 준비**
- [ ] **번들 최적화**: Tree-shaking 및 코드 스플리팅 적용
- [ ] **브라우저 호환성**: Polyfill 및 크로스 브라우저 테스트
- [ ] **NPM 배포**: 패키지 게시 및 CI/CD 파이프라인 구축

### **[Quality Assurance] 품질 보증**
- [ ] **E2E 테스트**: Playwright 기반 전체 시나리오 테스트
- [ ] **성능 벤치마크**: 렌더링 성능 측정 및 최적화
- [ ] **접근성**: WCAG 가이드라인 준수 검토

---

## 🚨 현재 우선순위

1. **Phase 1.5 완료** - 기존 기능 안정화
2. **Phase 2 Foundation** - 선택 시스템부터 단계적 구현
3. **점진적 확장** - 각 기능별 테스트 선행 후 다음 단계 진행

각 Phase는 이전 단계가 완전히 검증된 후 진행하여 기술 부채를 최소화합니다.
